# üöÄ DigitalOcean Deployment Guide for Shop.PK

## üéØ **DigitalOcean App Platform (RECOMMENDED)**

### **Step 1: Prepare Your Repository**
‚úÖ Your code is already on GitHub: `https://github.com/inayatrahimdev/bizzshop.git`

### **Step 2: Create DigitalOcean Account**
1. Go to [cloud.digitalocean.com](https://cloud.digitalocean.com)
2. Sign up for DigitalOcean account
3. Add payment method (required for App Platform)

### **Step 3: Deploy to App Platform**

1. **Navigate to Apps**:
   - Go to [cloud.digitalocean.com/apps](https://cloud.digitalocean.com/apps)
   - Click "Create App"

2. **Connect GitHub**:
   - Select "GitHub" as source
   - Authorize DigitalOcean to access your GitHub
   - Select repository: `inayatrahimdev/bizzshop`
   - Select branch: `main`

3. **Configure App**:
   ```
   App Name: shop-pk-ecommerce
   Region: Choose closest to your customers
   ```

4. **Add Database**:
   - Click "Add Database"
   - Choose "PostgreSQL"
   - Select "Basic" plan ($15/month)
   - Database name: `shop`

5. **Set Environment Variables**:
   ```env
   NODE_ENV=production
   PORT=3000
   DB_USER=[Auto-generated by DigitalOcean]
   DB_PASSWORD=[Auto-generated by DigitalOcean]
   DB_SERVER=[Auto-generated by DigitalOcean]
   DB_DATABASE=shop
   ADMIN_USERNAME=inayataifuturescopebrightbzzzz
   ADMIN_PASSWORD=inayataifuturescopebrightbzzzz@12345
   EASYPAISA_ACCOUNT=03165800166
   JAZZCASH_ACCOUNT=03165800166
   MEZAN_BANK_ACCOUNT=1234567890123456
   ```

6. **Deploy**:
   - Click "Create Resources"
   - Wait for deployment (5-10 minutes)

### **Step 4: Setup Database**

1. **Access Database**:
   - Go to your app dashboard
   - Click on the database component
   - Use the connection string provided

2. **Run Database Setup**:
   ```bash
   # Connect to your PostgreSQL database
   # Run the SQL script: database/postgresql_setup.sql
   ```

### **Step 5: Test Your Deployment**

Your app will be available at:
- **Main Shop**: `https://shop-pk-ecommerce-xxxxx.ondigitalocean.app`
- **Admin Panel**: `https://shop-pk-ecommerce-xxxxx.ondigitalocean.app/admin.html`

## üí∞ **DigitalOcean Pricing:**

### **App Platform** (Recommended):
- **App**: $5/month
- **Database**: $15/month
- **Total**: $20/month

### **Droplet Alternative**:
- **Droplet**: $6/month
- **Managed Database**: $15/month
- **Total**: $21/month

## üîß **Database Migration Steps:**

Since you're moving from SQL Server to PostgreSQL:

1. **Update Connection String**:
   ```javascript
   // In server.js, update dbConfig
   const dbConfig = {
       user: process.env.DB_USER,
       password: process.env.DB_PASSWORD,
       server: process.env.DB_SERVER,
       database: process.env.DB_DATABASE,
       port: 25060, // DigitalOcean PostgreSQL port
       ssl: {
           rejectUnauthorized: false
       }
   };
   ```

2. **Update SQL Queries**:
   - Replace `IDENTITY(1,1)` with `SERIAL`
   - Replace `NVARCHAR` with `VARCHAR`
   - Update date functions

3. **Run Migration Script**:
   - Use `database/postgresql_setup.sql`
   - Creates all tables and inserts sample data

## üåê **Custom Domain (Optional):**

1. **Add Domain**:
   - In App Platform, go to "Settings"
   - Add your custom domain
   - Update DNS records

2. **SSL Certificate**:
   - DigitalOcean automatically provides SSL
   - Your site will be HTTPS secure

## üìä **Monitoring & Scaling:**

### **Built-in Features**:
- ‚úÖ **Health Checks**: Automatic monitoring
- ‚úÖ **Auto-scaling**: Handles traffic spikes
- ‚úÖ **Logs**: View application logs
- ‚úÖ **Metrics**: Performance monitoring

### **Scaling Options**:
- **Basic**: $5/month (good for testing)
- **Professional**: $12/month (better performance)
- **Enterprise**: $25/month (high traffic)

## üö® **Important Notes:**

### **Before Deployment:**
1. ‚úÖ Update database connection for PostgreSQL
2. ‚úÖ Test all API endpoints locally
3. ‚úÖ Verify environment variables
4. ‚úÖ Check payment integration

### **After Deployment:**
1. ‚úÖ Test main shop page
2. ‚úÖ Verify admin panel access
3. ‚úÖ Check product loading
4. ‚úÖ Test order placement
5. ‚úÖ Verify payment processing

## üéØ **Success Checklist:**

- [ ] App deployed successfully
- [ ] Database connected and populated
- [ ] Main shop page loads
- [ ] Admin panel accessible
- [ ] Products display correctly
- [ ] Cart functionality works
- [ ] Checkout process functional
- [ ] Payment integration working
- [ ] Order management active

---

## üöÄ **Ready to Deploy?**

1. **Go to**: [cloud.digitalocean.com/apps](https://cloud.digitalocean.com/apps)
2. **Create App** from your GitHub repository
3. **Add PostgreSQL database**
4. **Set environment variables**
5. **Deploy and test!**

Your Shop.PK e-commerce platform will be live on DigitalOcean! üõí‚ú®
